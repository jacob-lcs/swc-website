# 选择版本

目前，Wasm 插件不向后兼容。
因此，您需要为您的插件选择合适版本的 `swc_core`。

我们提供了一个简易的网页应用来帮助您选择 `swc_core` 的版本。

请访问：https://plugins.swc.rs

您可以选择您正在使用的框架及其版本，网页将显示与之兼容的 Wasm 插件。

# 旧版关于 `swc_core` 版本的文档

请使用上述网页应用替代本文档。

本页面记录了您可以为各个运行时使用的 `swc_core` 版本。

## Next.js 注意事项

- [由于 `next-swc` 的一个 bug，next `v13.2.4` ~ `v13.3.1` 无法执行 SWC Wasm 插件](https://github.com/vercel/next.js/issues/46989#issuecomment-1486989081)。

## swc_core

如果您使用标题所示范围内的版本，Wasm 插件将适用于正文中列出的运行时。

### `v0.98.x` ~

#### 变更

- 移除了 `Span.ctxt` 以减小 `Span` 的大小。
- 在各种 AST 节点中添加了 `ctxt: SyntaxContext`。
- 在某些地方（如 `MemberProp`）使用 `IdentName` 替代 `Ident`，因为这些字段不需要 `ctxt` 或 `optional`。

#### 升级指南

- 官方插件的更新 PR：[plugins#334](https://github.com/swc-project/plugins/pull/334)

#### 版本

- `@swc/core@1.7.x`
- `next@v15.0.0-canary.117`（在 `next@v15.0.0-canary.118` 中被还原）
- `next@v15.0.0-canary.122` ~

### `v0.95.x` ~ `v0.96.x`

- [更新日志](https://github.com/swc-project/swc/blob/064af5391d8da9599f277bd68fd0b479b0b1235c/CHANGELOG.md#160---2024-06-15)

我们优化了一些 AST 类型定义。

- `@swc/core@1.6.x`
- `next@15.0.0-canary.37` ~ `next@v15.0.0-canary.116`

### `v0.94.x`

如果您正在为 SWC 构建插件，请勿使用此版本。

### `v0.91.x` ~ `v0.93.x`

我们增加了对抽象自动访问器的支持。

- `@swc/core@1.5.x`
- `next@15.0.0-canary.29` ~ `v15.0.0-canary.36`

### `v0.90.x`

我们重构了 AST 以使其更不易出错。

- `@swc/core@1.4.x`
- `next@14.1.1-canary.52` ~ `next@15.0.0-canary.28`
- `@rspack/core@0.6.0` ~

### `v0.88.x` ~ `v0.89.x`

增加了对导入阶段提案（stage 3）的支持。

- `@swc/core@1.3.106` ~ `@swc/core@1.3.107`
- `@rspack/core@0.5.8` ~ `@rspack/core@0.5.9`

### `v0.82.x` ~ `v0.87.x`

由于[导入属性提案](https://github.com/tc39/proposal-import-attributes)中的 `with` 关键字，我们修改了 AST 定义。

- `@swc/core@1.3.81` ~ `@swc/core@1.3.105`
- ~ `next@14.1.0`

注意：您可能需要同时指定 `swc_common` 的版本，例如：

```toml
[dependencies]
swc_common = "=0.33.15"
```

### `v0.79.x` ~ `v0.81.x`

由于[显式资源管理提案](https://github.com/tc39/proposal-explicit-resource-management)中的 `await` 关键字，我们修改了 AST 定义。

- `@swc/core@1.3.68` ~ `@swc/core@1.3.80`
- `next@13.4.10-canary.1` ~

### `v0.78.x`

由于之前的一些定义设计不当，我们修改了 AST 定义。

- `@swc/core@1.3.63` ~ `@swc/core@1.3.67`
- `next@13.4.8` ~ `next@13.4.10-canary.0`

### `v0.76.x` ~ `v0.77.x`

由于 stage 3 阶段的[显式资源管理提案](https://github.com/tc39/proposal-explicit-resource-management)，我们修改了 AST 定义。

- `@swc/core@1.3.58` ~ `@swc/core@1.3.62`
- `next@13.4.3-canary.2` ~ `next@13.4.7`

### `v0.75.x`

我们启用了 `rkyv` 的严格模式并将 `wasmer` 更新至 `v3`。

- `@swc/core@1.3.49` ~ `@swc/core@1.3.57`
- `v13.3.1-canary.12` ~ `next@13.4.3-canary.1`

### `v0.72.4` ~ `v0.74.6`

我们将 `rkyv` 更新至 `v0.7.40`，现在该 bug 已修复。

- `@swc/core@1.3.44` ~ `@swc/core@1.3.47`

### `v0.69.x` ~ `v0.72.3`

由于 `rkyv@0.7.37` 的一个 bug，如果您正在为这些目标构建插件，建议使用 `nightly-2022-09-23` 作为编译器。

- `@swc/core@1.3.40` ~ `@swc/core@1.3.42`
- `next@13.2.5-canary.5`

### `v0.66.x` ~ `v0.68.x`

- `@swc/core@1.3.39`

### `v0.61.x` ~ `v0.64.x`

- `@swc/core@1.3.38`

### `v0.54.x` ~ `v0.59.x`

- `@swc/core@1.3.29` ~ `@swc/core@1.3.37`

- `next@13.2.4-canary.0`~
