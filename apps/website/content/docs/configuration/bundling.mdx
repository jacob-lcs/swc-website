import { Callout } from 'nextra/components'

# æ‰“åŒ…é…ç½®

<Callout emoji="ğŸš§">
  æ­¤åŠŸèƒ½å°†åœ¨ v2 ç‰ˆæœ¬ä¸­è¢«ç§»é™¤ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯åŸºäº SWC çš„æ‰“åŒ…å·¥å…·ï¼Œå¦‚ [Parcel 2](https://parceljs.org/)ã€[Turbopack](https://turbo.build/pack/docs)ã€[rspack](https://rspack.dev/)ã€[fe-farm](https://www.farmfe.org/)ã€‚

è¯·ä½¿ç”¨ä¸Šè¿°æ‰“åŒ…å·¥å…·ä¹‹ä¸€ã€‚

</Callout>

SWC èƒ½å¤Ÿå°†å¤šä¸ª JavaScript æˆ– TypeScript æ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ã€‚

æ­¤åŠŸèƒ½ç›®å‰å‘½åä¸º `spack`ï¼Œä½†åœ¨ `v2` ä¸­å°†æ›´åä¸º `swcpack`ã€‚`spack.config.js` å°†è¢«åºŸå¼ƒï¼Œæ”¹ç”¨ `swcpack.config.js`ã€‚

æŸ¥çœ‹[æ‰“åŒ…çš„åŸºæœ¬ç¤ºä¾‹](https://github.com/swc-project/pkgs/tree/main/packages/cli/examples/spack-basic)ã€‚

## é…ç½®

æ‚¨å¯ä»¥ä½¿ç”¨ `spack.config.js` é…ç½®æ‰“åŒ…ï¼Œå…¶é€‰é¡¹ä¸ webpack ç±»ä¼¼ã€‚æœªæ¥ï¼Œæˆ‘ä»¬æ­£åœ¨æ¢ç´¢å…¼å®¹ webpack çš„æ’ä»¶ç³»ç»Ÿã€‚

```js filename="spack.config.js" copy

module.exports = {
  entry: {
    web: __dirname + "/src/index.ts",
  },
  output: {
    path: __dirname + "/lib",
  },
};
```

> æ³¨æ„ï¼šç›®å‰éœ€è¦ CommonJSã€‚æœªæ¥å°†æ”¯æŒ ES æ¨¡å—ã€‚

å¦‚æœæ‚¨æƒ³è¦é…ç½®çš„è‡ªåŠ¨å®Œæˆæˆ–ç±»å‹æ£€æŸ¥ï¼Œå¯ä»¥ä½¿ç”¨ `@swc/core/spack` ä¸­çš„ `config` å‡½æ•°åŒ…è£…å¯¼å‡ºã€‚è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰ç±»å‹æ³¨è§£çš„æ’ç­‰å‡½æ•°ã€‚

```ts filename="spack.config.js" copy
const { config } = require("@swc/core/spack");

module.exports = config({
  entry: {
    web: __dirname + "/src/index.ts",
  },
  output: {
    path: __dirname + "/lib",
  },
});
```

### mode

å¯èƒ½çš„å€¼ï¼š`production`ã€`debug`ã€`none`ã€‚

ç›®å‰æ­¤å€¼æœªè¢«ä½¿ç”¨ï¼Œä½†å®ƒå°†è¡¨ç°å¾—ç±»ä¼¼äº webpackã€‚

### entry

ç¡®å®šæ‰“åŒ…çš„å…¥å£ã€‚æ‚¨å¯ä»¥æŒ‡å®šä¸€ä¸ªæ–‡ä»¶æˆ–ä¸€ä¸ªåŒ…åç§°åˆ°æ–‡ä»¶è·¯å¾„çš„æ˜ å°„ã€‚

> æ³¨æ„ï¼šç›®å‰è¿™åº”è¯¥æ˜¯ç»å¯¹è·¯å¾„ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ `__dirname` åˆ›å»ºä¸€ä¸ªã€‚
>
> æœªæ¥ï¼ŒSWC å°†æ”¯æŒä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼Œå¹¶å°†ç›¸å¯¹äº `spack.config.js` è§£ææ–‡ä»¶ã€‚

### output

æ‚¨å¯ä»¥ä½¿ç”¨ `output` æ›´æ”¹æ‰“åŒ…å™¨çš„ç›®æ ‡ç›®å½•ã€‚

```ts filename="spack.config.js" copy
const { config } = require("@swc/core/spack");

module.exports = config({
  output: {
    path: __dirname + "/lib",
    // åç§°æ˜¯å¯é€‰çš„ã€‚
    name: "index.js",
  },
});
```

### options

ç”¨äºæ§åˆ¶ SWC çš„è¡Œä¸ºã€‚æ­¤å­—æ®µæ˜¯å¯é€‰çš„ã€‚
